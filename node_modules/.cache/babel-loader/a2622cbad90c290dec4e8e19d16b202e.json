{"ast":null,"code":"import _classCallCheck from\"/home/cuemura/Documents/tcheqme_web/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/cuemura/Documents/tcheqme_web/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/home/cuemura/Documents/tcheqme_web/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/home/cuemura/Documents/tcheqme_web/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import'./App.css';import'bootstrap/dist/css/bootstrap.min.css';import{Map,TileLayer,Marker,Popup}from'react-leaflet';import{Container,Row,Col}from'react-bootstrap';;;var EventsExample=/*#__PURE__*/function(_Component){_inherits(EventsExample,_Component);var _super=_createSuper(EventsExample);function EventsExample(props){var _this;_classCallCheck(this,EventsExample);_this=_super.call(this,props);_this.state=void 0;_this.mapRef=void 0;_this.handleClick=function(){var map=_this.mapRef;if(map!=null){map.leafletElement.locate();}};_this.locateUser=function(){var map=_this.mapRef;if(map!=null){map.leafletElement.locate();}};_this.handleLocationFound=function(e){_this.setState({hasLocation:true,latlng:e.latlng});};_this.state={hasLocation:false,latlng:{lat:51.505,lng:-0.09}};return _this;}_createClass(EventsExample,[{key:\"componentDidMount\",value:function componentDidMount(){this.locateUser();}},{key:\"render\",value:function render(){var _this2=this;var h=window.innerHeight-56-121;var marker=this.state.hasLocation?/*#__PURE__*/React.createElement(Marker,{position:this.state.latlng},/*#__PURE__*/React.createElement(Popup,null,\"You are here\")):null;return/*#__PURE__*/React.createElement(Map,{center:this.state.latlng,zoom:16,style:{height:h+'px'},onLocationfound:this.handleLocationFound,ref:function ref(mapRef){return _this2.mapRef=mapRef;}},/*#__PURE__*/React.createElement(TileLayer,{attribution:\"&copy <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors\",url:\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"}),marker);}}]);return EventsExample;}(Component);function MyLocation(){return/*#__PURE__*/React.createElement(\"div\",{id:\"my-location-page\"},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"header\",null,/*#__PURE__*/React.createElement(\"h1\",{className:\"display-4\"},\"My Location\"),/*#__PURE__*/React.createElement(\"p\",{className:\"lead\"},\"Marker shows where you are\"))))),/*#__PURE__*/React.createElement(EventsExample,null));}export default MyLocation;","map":{"version":3,"sources":["/home/cuemura/Documents/tcheqme_web/src/MyLocation.tsx"],"names":["React","Component","Map","TileLayer","Marker","Popup","Container","Row","Col","EventsExample","props","state","mapRef","handleClick","map","leafletElement","locate","locateUser","handleLocationFound","e","setState","hasLocation","latlng","lat","lng","h","window","innerHeight","marker","height","MyLocation"],"mappings":"wcAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAO,WAAP,CACA,MAAO,sCAAP,CACA,OAASC,GAAT,CAAcC,SAAd,CAAyBC,MAAzB,CAAiCC,KAAjC,KAA8C,eAA9C,CACA,OACEC,SADF,CAEEC,GAFF,CAGEC,GAHF,KAIO,iBAJP,CAaC,CAEkB,C,GAEbC,CAAAA,a,8GAGJ,uBAAYC,KAAZ,CAA0B,+CACxB,uBAAMA,KAAN,EADwB,MAF1BC,KAE0B,cAgB1BC,MAhB0B,cAkB1BC,WAlB0B,CAkBZ,UAAM,CAClB,GAAMC,CAAAA,GAAG,CAAG,MAAKF,MAAjB,CACA,GAAIE,GAAG,EAAI,IAAX,CAAiB,CACfA,GAAG,CAACC,cAAJ,CAAmBC,MAAnB,GACD,CACF,CAvByB,OAyB1BC,UAzB0B,CAyBb,UAAM,CACjB,GAAMH,CAAAA,GAAG,CAAG,MAAKF,MAAjB,CACA,GAAIE,GAAG,EAAI,IAAX,CAAiB,CACfA,GAAG,CAACC,cAAJ,CAAmBC,MAAnB,GACD,CACF,CA9ByB,OAgC1BE,mBAhC0B,CAgCJ,SAACC,CAAD,CAAsB,CAC1C,MAAKC,QAAL,CAAc,CACZC,WAAW,CAAE,IADD,CAEZC,MAAM,CAAEH,CAAC,CAACG,MAFE,CAAd,EAID,CArCyB,CAGxB,MAAKX,KAAL,CAAa,CACXU,WAAW,CAAE,KADF,CAEXC,MAAM,CAAE,CACNC,GAAG,CAAE,MADC,CAENC,GAAG,CAAE,CAAC,IAFA,CAFG,CAAb,CAHwB,aAUzB,C,uFAEmB,CAClB,KAAKP,UAAL,GACD,C,uCAyBQ,iBACP,GAAIQ,CAAAA,CAAC,CAAGC,MAAM,CAACC,WAAP,CAAqB,EAArB,CAA0B,GAAlC,CACA,GAAMC,CAAAA,MAAM,CAAG,KAAKjB,KAAL,CAAWU,WAAX,cACf,oBAAC,MAAD,EAAQ,QAAQ,CAAE,KAAKV,KAAL,CAAWW,MAA7B,eACE,oBAAC,KAAD,qBADF,CADe,CAIX,IAJJ,CAMA,mBACE,oBAAC,GAAD,EAAK,MAAM,CAAE,KAAKX,KAAL,CAAWW,MAAxB,CAAgC,IAAI,CAAE,EAAtC,CAA0C,KAAK,CAAE,CAACO,MAAM,CAAEJ,CAAC,CAAE,IAAZ,CAAjD,CAAoE,eAAe,CAAE,KAAKP,mBAA1F,CAA+G,GAAG,CAAE,aAAAN,MAAM,QAAI,CAAA,MAAI,CAACA,MAAL,CAAcA,MAAlB,EAA1H,eACE,oBAAC,SAAD,EACA,WAAW,CAAC,2EADZ,CAEA,GAAG,CAAC,oDAFJ,EADF,CAKGgB,MALH,CADF,CASD,C,2BA3DyB3B,S,EA8D5B,QAAS6B,CAAAA,UAAT,EAAsB,CACpB,mBACE,2BAAK,EAAE,CAAC,kBAAR,eACE,oBAAC,SAAD,mBACE,oBAAC,GAAD,mBACE,oBAAC,GAAD,mBACE,+CACE,0BAAI,SAAS,CAAC,WAAd,gBADF,cAEE,yBAAG,SAAS,CAAC,MAAb,+BAFF,CADF,CADF,CADF,CADF,cAWE,oBAAC,aAAD,MAXF,CADF,CAeD,CAED,cAAeA,CAAAA,UAAf","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Map, TileLayer, Marker, Popup } from 'react-leaflet';\nimport {\n  Container,\n  Row,\n  Col\n} from 'react-bootstrap';\nimport { LocationEvent } from 'leaflet';\n\ninterface IState {\n  hasLocation: boolean;\n  latlng: {\n    lat: number,\n    lng: number,\n  };\n};\n\ninterface IProps {};\n\nclass EventsExample extends Component<IProps, IState> {\n  state: IState;\n\n  constructor(props:IProps) {\n    super(props);\n\n    this.state = {\n      hasLocation: false,\n      latlng: {\n        lat: 51.505,\n        lng: -0.09,\n      }\n    }\n  }\n\n  componentDidMount() {\n    this.locateUser();\n  }\n\n  mapRef: Map;\n\n  handleClick = () => {\n    const map = this.mapRef;\n    if (map != null) {\n      map.leafletElement.locate()\n    }\n  }\n\n  locateUser = () => {\n    const map = this.mapRef;\n    if (map != null) {\n      map.leafletElement.locate()\n    }\n  }\n\n  handleLocationFound = (e: LocationEvent) => {\n    this.setState({\n      hasLocation: true,\n      latlng: e.latlng,\n    });\n  }\n\n  render() {\n    let h = window.innerHeight - 56 - 121;\n    const marker = this.state.hasLocation ? (\n    <Marker position={this.state.latlng}>\n      <Popup>You are here</Popup>\n    </Marker>\n    ) : null\n\n    return (\n      <Map center={this.state.latlng} zoom={16} style={{height: h +'px'}} onLocationfound={this.handleLocationFound} ref={mapRef => this.mapRef = mapRef}>\n        <TileLayer\n        attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        />\n        {marker}\n      </Map>\n    );\n  }\n}\n\nfunction MyLocation() {\n  return (\n    <div id=\"my-location-page\">\n      <Container>\n        <Row>\n          <Col>\n            <header>\n              <h1 className=\"display-4\">My Location</h1>\n              <p className=\"lead\">Marker shows where you are</p>\n            </header>\n          </Col>\n        </Row>\n      </Container>\n      <EventsExample />\n    </div>\n  );\n}\n\nexport default MyLocation;"]},"metadata":{},"sourceType":"module"}